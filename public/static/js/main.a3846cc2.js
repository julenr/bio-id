!function(e){function t(t){for(var r,a,c=t[0],l=t[1],u=t[2],d=0,f=[];d<c.length;d++)a=c[d],o[a]&&f.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={1:0};var i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;i.push([127,0]),n()}([,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(62);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setApiErrorHandlerCbk=function(e){i=e},t.default=void 0;var r,o=(r=n(10))&&r.__esModule?r:{default:r};var i=function(e){return e};var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return(0,o.default)(e,t,n,r).then(function(e){return e.ok?e.json().then(function(e){return e}):function(e){switch(e.status){case 500:i("500 error");break;default:return e.json().then(function(e){return Promise.reject(e)})}}(e)})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GET_SESSIONS=t.SAVE_VIDEO_IMAGES=t.BIO_ID_SAVE_VIDEO=t.BIO_ID_FACE_DETECTION=t.DUMMY=void 0;var r="".concat("/api/","v1/dummy/"),o={url:"".concat(r,"##.json?"),mth:"GET"};t.DUMMY=o,r="".concat("/api/","v1/biometric-id/");var i={url:"".concat(r,"face-detection/##.json?"),mth:"POST"};t.BIO_ID_FACE_DETECTION=i;var a={url:"".concat(r,"save-video"),mth:"POST"};t.BIO_ID_SAVE_VIDEO=a;var c={url:"".concat(r,"save-video-images"),mth:"POST"};t.SAVE_VIDEO_IMAGES=c;var l={url:"".concat(r,"sessions.json?"),mth:"GET"};t.GET_SESSIONS=l;var u=function(e,t,n){return"".concat(function(e,t){return e.url.replace("##",t)}(e,t)).concat((r=n,Object.keys(r).reduce(function(e,t,n){return"".concat(e).concat(n?"&":"").concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r[t]))},"")));var r},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return fetch(u(e,t,n),function(e,t){var n=e.mth,r=e.auth,o=localStorage.getItem("trademe.AuthToken");return Object.assign({},{method:n,headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},mode:"cors"},t?{body:JSON.stringify(t)}:{},r&&o?{headers:{authorization:"Bearer ".concat(o)}}:{})}(e,r))};t.default=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.history=void 0;var o=(0,((r=n(26))&&r.__esModule?r:{default:r}).default)();t.history=o},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedoLink=t.StepBodyText=t.StepTitle=t.StepCounter=t.GreenCircle=t.CallToAction3=t.CallToAction2=t.CallToAction1=t.CallToAction=t.StepContainer=void 0;var r=s(n(4)),o=s(n(88)),i=s(n(87)),a=s(n(86)),c=d(["\n  ",";\n"]),l=d(["\n  ",";\n"]),u=d(["\n  ",";\n"]);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=r.default.div.withConfig({displayName:"styled__StepContainer"})(["padding:1.5rem;"]);t.StepContainer=f;var p=r.default.div.withConfig({displayName:"styled__CallToAction"})(["display:flex;flex-flow:column;align-items:center;justify-content:center;color:#389822;font-weight:bold;height:200px;margin-bottom:1rem;"]);t.CallToAction=p;var h=p.extend(c,function(e){return"COMPLETED"!==e.status?"background: center / cover no-repeat url(".concat(o.default,")"):""});t.CallToAction1=h;var v=p.extend(l,function(e){return"COMPLETED"!==e.status?"background: center / cover no-repeat url(".concat(i.default,")"):""});t.CallToAction2=v;var y=p.extend(u,function(e){return"COMPLETED"!==e.status?"background: center / cover no-repeat url(".concat(a.default,")"):""});t.CallToAction3=y;var m=r.default.div.withConfig({displayName:"styled__GreenCircle"})(["display:flex;align-items:center;justify-content:center;width:80px;height:80px;border-radius:50px;border:solid 2px #389822;font-size:2rem;margin-bottom:1.5rem;"]);t.GreenCircle=m;var g=r.default.div.withConfig({displayName:"styled__StepCounter"})(["font-size:1.1rem;font-weight:300;margin:1rem 0;"]);t.StepCounter=g;var b=r.default.h3.withConfig({displayName:"styled__StepTitle"})(["font-size:1.5rem;font-weight:bold;margin-bottom:0.5rem;"]);t.StepTitle=b;var w=r.default.p.withConfig({displayName:"styled__StepBodyText"})(["font-size:1rem;margin:0 0 1.4rem 0;"]);t.StepBodyText=w;var O=r.default.div.withConfig({displayName:"styled__RedoLink"})(["font-weight:bold;color:#007dc2;text-align:center;margin-top:1rem;:hover{cursor:pointer;}font-size:1rem;"]);t.RedoLink=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Logo=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=function(e){var t=e.icon,n=e.size,a=e.color,c=i(e,["icon","size","color"]),l=a?{fill:a}:{};return r.createElement("svg",o({height:n,width:n,role:"img","aria-label":"".concat(t," Icon")},c),r.createElement("use",{xlinkHref:"/assets/images/svgs.svg#".concat(t),style:l}))};a.defaultProps={size:25};var c={full:{w:49,h:24}},l=function(e){var t=e.logo,n=e.size,o=e.color,a=i(e,["logo","size","color"]),l=o?{fill:o}:{};return r.createElement("svg",{width:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return Math.round(e.w*t/e.h)}(c[t],n),height:n,className:a.class,role:"img","aria-label":"Logo"},r.createElement("use",{xlinkHref:"./assets/images/svgs.svg#".concat(t),style:l}))};t.Logo=l,l.defaultProps={logo:"full",size:25};var u=a;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(90);var i=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children"]);return r.createElement(o.StyledButton,n,t)};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSetting=t.switchSetting=t.initBiometricIdSession=t.saveVideo=t.faceDetection=void 0;var r,o=n(37),i=n(35),a=n(10),c=(r=n(9))&&r.__esModule?r:{default:r};t.faceDetection=function(e){var t=e.data;return function(e){return(0,c.default)(a.BIO_ID_FACE_DETECTION,"coordinates",{},t).then(function(t){return e({type:i.FACE_DETECTION,json:t.data})},function(e){throw new Error(e)})}};t.saveVideo=function(e){var t=e.sessionId,n=e.stepNumber,r=e.videoData,o=e.videoOptions;return function(e){return(0,c.default)(a.BIO_ID_SAVE_VIDEO,"",{},{sessionId:t,stepNumber:n,videoData:r,videoOptions:o}).then(function(t){return e({type:i.SAVE_VIDEO,json:t})},function(e){throw new Error(e)})}};t.initBiometricIdSession=function(){return{type:i.INIT_BIOMETRIC_ID_SESSION,id:(0,o.uuidV1)()}};t.switchSetting=function(e){return{type:i.SWITCH_SETTING,setting:e}};t.setSetting=function(e,t){return{type:i.SET_SETTING,setting:e,value:t}}},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionWrapper=t.Title=t.Option=t.Content=t.Container=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r};var i=o.default.section.withConfig({displayName:"styled__Container"})(["display:flex;justify-content:center;"]);t.Container=i;var a=o.default.div.withConfig({displayName:"styled__Content"})(["position:relative;display:flex;flex-flow:column;max-width:500px;min-width:320px;width:100%;height:100%;padding:1rem;"]);t.Content=a;var c=o.default.div.withConfig({displayName:"styled__Option"})(["padding:0.5rem 0.2rem;font-size:1.1rem;color:#007dc2;"]);t.Option=c;var l=o.default.h1.withConfig({displayName:"styled__Title"})(["font-size:1.5em;"]);t.Title=l;var u=o.default.div.withConfig({displayName:"styled__OptionWrapper"})(["display:flex;justify-content:space-between;"]);t.OptionWrapper=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(89);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=l(t).call(this,e),s(s(s(s(s(u(u(n=!o||"object"!==i(o)&&"function"!=typeof o?u(r):o)),"viewBoxSize",235),"state",{viewBox:"0 0 ".concat(n.viewBoxSize," ").concat(n.viewBoxSize),strokeDasharray:"0 725",percent:0,speedTransform:0}),"meter",void 0),"setBorder",function(){var e=n.props,t=e.border,r=e.style,o=parseInt(t,10),i="lineal"===r?o:n.viewBoxSize+o;n.props.border&&n.setState({viewBox:"-".concat(o/2," -").concat(o/2," ").concat(n.viewBoxSize+o," ").concat(i)})}),"updateMeter",function(){if(n.meter){var e,t=n.props.value>100?100:n.props.value<0?0:n.props.value,r=n.meter.getTotalLength(),o=t*r/100;if(n.props.timeTransform){e=(o-n.state.percent)*n.props.timeTransform/r+.3}else e=0;n.setState({strokeDasharray:"".concat(o," ").concat(r),percent:o,speedTransform:e})}}),n}var n,d,f;return n=t,(d=[{key:"componentDidMount",value:function(){this.setBorder(),this.updateMeter()}},{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.updateMeter()}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,i=t.border,a=t.color,c=t.background,l=t.bgOpacity,u=this.state,s=u.viewBox,d=u.speedTransform,f=u.strokeDasharray;return r.createElement(o.ProgressBarStyled,{viewBox:s,border:i,speed:d},r.createElement("path",{stroke:c,d:"lineal"===n?"M0 0 L".concat(this.viewBoxSize," 0"):"M117.06,2A115.06,115.06,0,1,1,2,117.06,115.19,115.19,0,0,1,117.06,2Z",fill:"none",strokeOpacity:l}),r.createElement("path",{ref:function(t){e.meter=t},stroke:a,d:"lineal"===n?"M0 0 L".concat(this.viewBoxSize," 0"):"M117.06,2A115.06,115.06,0,1,1,2,117.06,115.19,115.19,0,0,1,117.06,2Z",fill:"none",strokeDasharray:f}))}}])&&c(n.prototype,d),f&&c(n,f),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");a(e.prototype,t&&t.prototype),t&&a(e,t)}(t,e),t}(r.Component);s(d,"defaultProps",{style:"lineal",value:0,border:5,color:"#0f0",background:"#ccc",bgOpacity:1,timeTransform:0});var f=d;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDummy=t.storeActiveURL=t.mobilePanelSwitch=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(36)),i=n(10),a=(r=n(9))&&r.__esModule?r:{default:r};t.mobilePanelSwitch=function(){return{type:o.MOBILE_PANEL_SWITCH}};t.storeActiveURL=function(e){return{type:o.STORE_ACTIVE_ROUTE,payload:e}};t.loadDummy=function(){return{type:o.LOAD_DUMMY,promise:(0,a.default)(i.DUMMY,"dummyfile")}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_SESSIONS=void 0;t.REQUEST_SESSIONS="REQUEST_SESSIONS"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_SETTING=t.SWITCH_SETTING=t.INIT_BIOMETRIC_ID_SESSION=t.SAVE_VIDEO=t.FACE_DETECTION=void 0;t.FACE_DETECTION="FACE_DETECTION";t.SAVE_VIDEO="SAVE_VIDEO";t.INIT_BIOMETRIC_ID_SESSION="INIT_BIOMETRIC_ID_SESSION";t.SWITCH_SETTING="SWITCH_SETTING";t.SET_SETTING="SET_SETTING"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOAD_DUMMY=t.STORE_ACTIVE_ROUTE=t.MOBILE_PANEL_SWITCH=void 0;t.MOBILE_PANEL_SWITCH="MOBILE_PANEL_SWITCH";t.STORE_ACTIVE_ROUTE="STORE_ACTIVE_ROUTE";t.LOAD_DUMMY="LOAD_DUMMY"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=function(e){return new Promise(function(t){return setTimeout(t,e)})},t.shadeColor=t.toCurrency=t.uuidV1=t.setLog=void 0;t.setLog=function(){window.log=function(){console.log(Array.prototype.slice.call(arguments))}};t.uuidV1=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)};t.toCurrency=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>999?0:2;return e?"$".concat(e.toLocaleString("nz-NZ",{minimumFractionDigits:t,maximumFractionDigits:t})):""};t.shadeColor=function(e,t){var n=parseInt(e.slice(1),16),r=t<0?0:255,o=t<0?-1*t:t,i=n>>16,a=n>>8&255,c=255&n;return"#"+(16777216+65536*(Math.round((r-i)*o)+i)+256*(Math.round((r-a)*o)+a)+(Math.round((r-c)*o)+c)).toString(16).slice(1)}},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("serviceWorker"in navigator){var e=new URL("",window.location);if(e.origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");r?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(e)})}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PanelMask=t.Container=t.Wrapper=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(4)),o=n(7),i=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  html, body {\n    height: 100%;\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    background: ",";\n    font-size: 14px;\n    @media "," {\n      font-size: 16px;\n    }\n    font-family: ",";\n    color: ",";\n  }\n  html {\n    /* Avoid scrollbar space moving when showing mask\n      it scrolls up to the view so no cool\n    */\n    // overflow-y: scroll;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n"]);(0,r.injectGlobal)(i,o.backgroundColor,o.grtMediumViewport,o.mainFontFamily,o.textBaseColor);var a=r.default.div.withConfig({displayName:"styled__Wrapper"})(["display:flex;flex-direction:column;min-height:100vh;"]);t.Wrapper=a;var c=r.default.div.withConfig({displayName:"styled__Container"})(["flex:1 1 auto;"]);t.Container=c;var l=r.default.div.withConfig({displayName:"styled__PanelMask"})(["position:fixed;z-index:100;visibility:hidden;opacity:0;transition:opacity 0.5s,visibility 0.5s;top:0;left:0;right:0;bottom:0;background:black;",";"],function(e){return e.active&&"\n    visibility: visible;\n    opacity: .4;\n    transition: opacity 0.5s, visibility 0.5s;\n  "});t.PanelMask=l},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Panel=void 0;var o=((r=n(4))&&r.__esModule?r:{default:r}).default.nav.withConfig({displayName:"styled__Panel"})(["position:absolute;z-index:200;transition:transform 0.3s;height:100%;top:0;left:0;transform:",";"],function(e){return e.active?"translateX(0)":"translateX(-100%)"});t.Panel=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(53);var i=function(e){var t=e.active,n=e.children;return r.createElement(o.Panel,{active:t},n)};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Option=t.Options=t.CloseButton=t.Header=t.MobileMenu=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r},i=n(13),a=n(7);var c=o.default.nav.withConfig({displayName:"styled__MobileMenu"})(["width:300px;height:100%;background-color:",";a{text-decoration:none;:hover{text-decoration:underline;}}"],a.white);t.MobileMenu=c;var l=o.default.div.withConfig({displayName:"styled__Header"})(["display:flex;justify-content:flex-end;padding:15px 15px 15px 25px;height:60px;background-color:",";"],a.glacier10);t.Header=l;var u=o.default.div.withConfig({displayName:"styled__CloseButton"})(["cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;"]);t.CloseButton=u;var s=o.default.div.withConfig({displayName:"styled__Options"})(["padding:20px 5px 15px 25px;display:flex;flex-flow:column;align-items:flex-start;"]);t.Options=s;var d=(0,o.default)(i.Link).withConfig({displayName:"styled__Option"})(["display:flex;align-items:center;margin:0.8rem 0;span{color:",";margin-left:20px;}"],a.tipTop500);t.Option=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(55),i=n(7),a=l(n(15)),c=l(n(54));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function p(e){return(p=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=[{icon:"perm-identity",label:"Home",url:"/"},{icon:"camera-front",label:"Biometric ID",url:"/biometric-id"},{icon:"video-library",label:"Review tool",url:"/sessions-review"},{icon:"settings",label:"Settings",url:"/settings"}],m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return f(r,(n=r=f(this,(e=p(t)).call.apply(e,[this].concat(i))),v(v(h(h(r)),"shouldComponentUpdate",function(e){return r.props.mobilePanel!==e.mobilePanel}),"clickHandler",function(e){var t=document.querySelector("#mob-bar");t&&!t.contains(e.target)&&r.props.mobilePanelSwitch()}),n))}var n,l,u;return n=t,(l=[{key:"componentWillUpdate",value:function(e){var t=e.mobilePanel,n=document.body;n&&(n.className=t?"active_panel":"",t?document.addEventListener("click",this.clickHandler,!1):document.removeEventListener("click",this.clickHandler,!1))}},{key:"render",value:function(){var e=this.props,t=e.mobilePanel,n=e.mobilePanelSwitch;return r.createElement("aside",null,r.createElement(c.default,{active:t},r.createElement(o.MobileMenu,{id:"mob-bar"},r.createElement(o.Header,null,r.createElement(o.CloseButton,{onClick:n},r.createElement(a.default,{icon:"close",size:"40",color:i.tipTop500}))),r.createElement(o.Options,null,g(y,n)))))}}])&&d(n.prototype,l),u&&d(n,u),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");s(e.prototype,t&&t.prototype),t&&s(e,t)}(t,e),t}(r.Component),g=function(e,t){return e.map(function(e,n){var c=e.icon,l=e.label,u=e.url;return r.createElement(o.Option,{to:u,key:n,onClick:t},r.createElement(a.default,{icon:c,size:"24",color:i.tipTop500}),r.createElement("span",null,l))})},b=m;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkButton=t.MobileBar=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r},i=n(7);var a=o.default.section.withConfig({displayName:"styled__MobileBar"})(["display:flex;align-items:center;justify-content:center;height:60px;padding:0 10px 0 10px;border-bottom:solid 1px lightgray;nav{display:flex;width:100%;max-width:",";justify-content:space-between;align-items:center;}"],i.maxContentWidth);t.MobileBar=a;var c=o.default.div.withConfig({displayName:"styled__LinkButton"})(["cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;"]);t.LinkButton=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=n(57),a=(r=n(15))&&r.__esModule?r:{default:r};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="#666",h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=new Array(c),h=0;h<c;h++)l[h]=arguments[h];return u(r,(n=r=u(this,(e=s(t)).call.apply(e,[this].concat(l))),f(f(d(d(r)),"openMobilePanel",function(e){r.props.mobilePanelSwitch(),e.stopPropagation()}),"render",function(){return o.createElement(i.MobileBar,null,o.createElement("nav",null,o.createElement(i.LinkButton,{onClick:r.openMobilePanel},o.createElement(a.default,{icon:"edit-hamburger-menu",size:"30",color:p})),o.createElement("h3",null,"Biometric Identification"),o.createElement("div",null)))}),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");l(e.prototype,t&&t.prototype),t&&l(e,t)}(t,o.Component),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(58));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement("header",null,r.default.createElement(o.default,e))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Content=t.Copyright=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r},i=n(7);var a=o.default.section.withConfig({displayName:"styled__Copyright"})(["display:flex;align-items:center;justify-content:center;height:30px;padding:2rem "," 2rem ",";font-size:0.8rem;background:",";"],i.generalMargin,i.generalMargin,i.white);t.Copyright=a;var c=o.default.div.withConfig({displayName:"styled__Content"})(["flex:1;max-width:",";"],i.maxContentWidth);t.Content=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},i=n(60);var a=function(){return o.default.createElement(i.Copyright,null,o.default.createElement(i.Content,null,o.default.createElement("div",null,"© 2018")))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glacier10=t.waitomo500=t.tipTop700=t.tipTop500=t.tipTop400=t.tipTop200=t.tipTop30=t.tipTop20=t.silverFern900=t.silverFern800=t.silverFern700=t.silverFern600=t.silverFern500=t.silverFern400=t.silverFern300=t.silverFern200=t.silverFern100=t.silverFern50=t.silverFern30=t.silverFern20=t.silverFern15=t.silverFern10=t.silverFern5=t.tasman500=t.tasman400=t.tasman200=t.tasman50=t.jaffa700=t.hokeyPokey500=t.hokeyPokey400=t.hokeyPokey300=t.hokeyPokey200=t.glacier500=t.backgroundColor=t.textBaseColor=t.blueBase=t.meaningColors=t.black=t.white=void 0;t.white="#FFF";t.black="#000";t.meaningColors={success:"#00BC82",info:"#3DA5EB",warning:"#FFCB4F",danger:"#D93A3F"};t.blueBase="#fAA819";t.textBaseColor="#002f6b";t.backgroundColor="white";t.glacier500="#5F6F88";t.hokeyPokey200="#FFD35F";t.hokeyPokey300="#FFCB4F";t.hokeyPokey400="#FFC041";t.hokeyPokey500="#F9AF2C";t.jaffa700="#d54209";t.tasman50="#AADCFE";t.tasman200="#6BBCF4";t.tasman400="#3DA5EB";t.tasman500="#279BE9";t.silverFern5="#FBFBFB";t.silverFern10="#F7F7F7";t.silverFern15="#F0F0F0";t.silverFern20="#E9E9E9";t.silverFern30="#DADADA";t.silverFern50="#C9C9C9";t.silverFern100="#B9B9B9";t.silverFern200="#A1A1A1";t.silverFern300="#888";t.silverFern400="#777";t.silverFern500="#666";t.silverFern600="#555";t.silverFern700="#444";t.silverFern800="#333";t.silverFern900="#222";t.tipTop20="#E3ECFF";t.tipTop30="#D0DFFF";t.tipTop200="#84ACFA";t.tipTop400="#4D80E5";t.tipTop500="#3B71DC";t.tipTop700="#2656B7";t.waitomo500="#00BC82";t.glacier10="#F4F6FC"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xlargeViewport=t.largeViewport=t.grtMediumViewport=t.mediumViewport=t.grtSmallViewport=t.smallViewport=t.xsmallViewport=t.generalMargin=t.xLargeBreakpoint=t.largeBreakpoint=t.mediumBreakpoint=t.smallBreakpoint=t.xsmallBreakpoint=t.minContentWidth=t.maxContentWidth=t.mainFontFamily=void 0;t.mainFontFamily="Open Sans";t.maxContentWidth="1400px";t.minContentWidth="320px";t.xsmallBreakpoint="320px";t.smallBreakpoint="480px";t.mediumBreakpoint="768px";t.largeBreakpoint="1024px";t.xLargeBreakpoint="1440px";t.generalMargin="1rem";t.xsmallViewport="(max-width: 375px)";t.smallViewport="(max-width: 480px)";t.grtSmallViewport="(min-width: 481px)";t.mediumViewport="(min-width: 480px) and (max-width: 768px)";t.grtMediumViewport="(min-width: 769px)";t.largeViewport="(min-width: 1024px) and (max-width: 1440px)";t.xlargeViewport="(min-width: 1441px)"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r},i=n(7);var a=o.default.footer.withConfig({displayName:"styled__Footer"})(["min-width:",";border-top:solid 1px #ccc;"],i.minContentWidth);t.Footer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=n(64),i=a(n(61));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(){return r.default.createElement(o.Footer,null,r.default.createElement(i.default,null))};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1));function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,l(t).apply(this,arguments))}var n,o,u;return n=t,(o=[{key:"render",value:function(){return r.createElement("span",null,this.props.children)}}])&&a(n.prototype,o),u&&a(n,u),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");i(e.prototype,t&&t.prototype),t&&i(e,t)}(t,e),t}(r.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=t.Toogle=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r};var i=o.default.div.withConfig({displayName:"styled__Toogle"})(["border:1px solid #ccc;width:50px;height:22px;min-width:50px;border-radius:13px;cursor:",";display:inline-block;background:",";transition:background 0.5s;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;"],function(e){return e.enabled?"pointer":"not-allowed"},function(e){return e.on?"GreenYellow ":"Gainsboro"});t.Toogle=i;var a=o.default.div.withConfig({displayName:"styled__Switch"})(["border:1px solid #999;box-shadow:1px 1px 1px #ccc;width:28px;height:28px;top:-4px;left:",";border-radius:50%;background:white;position:relative;transition:left 0.2s ease-in-out;"],function(e){return e.on?"23px":"-1px"});t.Switch=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(67);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var s,d,f,p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,i,s;return n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.on,n=e.enabled,i=e.onClick;return r.createElement(o.Toogle,{on:t,enabled:n,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return i()})},r.createElement(o.Switch,{on:t}))}}])&&c(n.prototype,i),s&&c(n,s),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");a(e.prototype,t&&t.prototype),t&&a(e,t)}(t,e),t}(r.Component);f={on:!0,onClick:function(){},enabled:!0},(d="defaultProps")in(s=p)?Object.defineProperty(s,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):s[d]=f;var h=p;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeOption=t.OptionsGroupOption=t.ToogleOption=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=n(30),a=(r=n(68))&&r.__esModule?r:{default:r};t.ToogleOption=function(e){var t=e.label,n=e.on,r=e.onClick;return o.createElement(i.Option,null,o.createElement(i.OptionWrapper,null,t,o.createElement(a.default,{on:n,onClick:r})))};t.OptionsGroupOption=function(e){var t=e.label,n=e.options,r=e.name,a=e.selected,c=e.onChange;return o.createElement(i.Option,null,o.createElement(i.OptionWrapper,null,o.createElement("div",null,t),o.createElement("div",null,n.map(function(e,t){return o.createElement(o.Fragment,{key:t},o.createElement("input",{id:e,type:"radio",name:r,value:e,checked:a===e,onChange:c}),o.createElement("label",{htmlFor:e},e))}))))};t.RangeOption=function(e){var t=e.label,n=e.value,r=e.min,a=e.max,c=e.onChange;return o.createElement(i.Option,null,o.createElement(i.OptionWrapper,null,o.createElement("div",null,t),o.createElement("input",{type:"range",min:r,max:a,value:n,onChange:c,className:"slider"})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Settings=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(6),i=n(17),a=n(69),c=n(30);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=d(t).call(this,e),p(p(p(f(f(n=!i||"object"!==l(i)&&"function"!=typeof i?f(o):i)),"state",{cameraResolutions:[]}),"detectVideoSizes",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[{w:1600,h:1200},{w:1280,h:720},{w:640,h:480},{w:320,h:240}];navigator.mediaDevices.getUserMedia({video:{width:{exact:t[e].w},height:{exact:t[e].h}}}).then(function(r){r.getTracks().forEach(function(e){return e.stop()}),n.setState({cameraResolutions:u(n.state.cameraResolutions).concat(["".concat(t[e].w,"x").concat(t[e].h)])}),t[e+1]&&n.detectVideoSizes(e+1)}).catch(function(r){t[e+1]&&n.detectVideoSizes(e+1),log("invalid:",t[e],r)})}),"render",function(){var e=n.props,t=e.autoStartOnDetection,o=e.switchSetting,i=e.setSetting,l=e.captureVideo,u=e.recordingTime,s=e.speechRecognition,d=e.useMediaRecorderApi,f=e.faceAngleDetection,p=e.faceDetection,h=e.overlayAutoRotation,v=e.framesPerSecond,y=e.imageType,m=e.idType,g=e.resolution,b=e.videoQuality,w=e.videoCodec;return r.createElement(c.Container,null,r.createElement(c.Content,null,r.createElement(c.Title,null,"Settings"),r.createElement("h3",{style:{marginBottom:"0"}},"Video"),r.createElement(a.ToogleOption,{label:"Capture video",on:l,onClick:function(){return o("captureVideo")}}),r.createElement(a.OptionsGroupOption,{label:"Video codec",name:"video-codec",onChange:function(e){return i("videoCodec",e.target.value)},selected:w,options:["h264","Webm"]}),r.createElement(a.OptionsGroupOption,{label:"Key frames format",name:"image-format",onChange:function(e){return i("imageType",e.target.value)},selected:y,options:["jpeg","png"]}),r.createElement(a.OptionsGroupOption,{label:"Resolution",name:"resolution",onChange:function(e){return i("resolution",e.target.value)},selected:g,options:n.state.cameraResolutions}),r.createElement(a.RangeOption,{label:"Quality ".concat(b,"%"),value:b,min:"1",max:"100",onChange:function(e){return i("videoQuality",e.target.value)}}),r.createElement(a.RangeOption,{label:"Frames per second ".concat(v,"fps"),value:v,min:"5",max:"30",onChange:function(e){return i("framesPerSecond",e.target.value)}}),r.createElement(a.RangeOption,{label:"Recording time ".concat(u,"s"),value:u,min:"1",max:"10",onChange:function(e){return i("recordingTime",e.target.value)}}),r.createElement(a.ToogleOption,{label:"Use MediaRecorder API (supported browsers)",on:d,onClick:function(){return o("useMediaRecorderApi")}}),r.createElement("h3",{style:{marginBottom:"0"}},"Biometric Identification"),r.createElement(a.OptionsGroupOption,{label:"Id type",name:"idType",onChange:function(e){return i("idType",e.target.value)},selected:m,options:["Passport","Driver License"]}),r.createElement(a.ToogleOption,{label:"Face detection and tracking",on:p,onClick:function(){return o("faceDetection")}}),r.createElement(a.ToogleOption,{label:"Face angle detection",on:f,onClick:function(){return o("faceAngleDetection")}}),r.createElement(a.ToogleOption,{label:"Auto start recording on detection",on:t,onClick:function(){return o("autoStartOnDetection")}}),r.createElement(a.ToogleOption,{label:"Speech recognition (supported browsers)",on:s,onClick:function(){return o("speechRecognition")}}),r.createElement("h3",{style:{marginBottom:"0"}},"Miscellaneous"),r.createElement(a.ToogleOption,{label:"Overlay Portrait/Landscape auto rotation",on:h,onClick:function(){return o("overlayAutoRotation")}})))}),n.detectVideoSizes(),console.log(n.cameraResolutions),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");s(e.prototype,t&&t.prototype),t&&s(e,t)}(t,r.Component),t}();t.Settings=h;var v=(0,o.connect)(function(e){var t=e.biometricId.settings;return{autoStartOnDetection:t.autoStartOnDetection,captureVideo:t.captureVideo,recordingTime:t.recordingTime,speechRecognition:t.speechRecognition,useMediaRecorderApi:t.useMediaRecorderApi,faceAngleDetection:t.faceAngleDetection,faceDetection:t.faceDetection,overlayAutoRotation:t.overlayAutoRotation,framesPerSecond:t.framesPerSecond,imageType:t.imageType,idType:t.idType,resolution:t.resolution,videoQuality:t.videoQuality,videoCodec:t.videoCodec}},{switchSetting:i.switchSetting,setSetting:i.setSetting})(h);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestSessions=void 0;var r,o=n(34),i=n(10),a=(r=n(9))&&r.__esModule?r:{default:r};t.requestSessions=function(){return function(e){return(0,a.default)(i.GET_SESSIONS,"",{}).then(function(t){return e({type:o.REQUEST_SESSIONS,json:t.data})},function(e){throw new Error(e)})}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Title=void 0;var o=((r=n(4))&&r.__esModule?r:{default:r}).default.h1.withConfig({displayName:"styled__Title"})(["font-size:1.5em;"]);t.Title=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(1)),o=n(6),i=n(72),a=c(n(71));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=d(t).call(this,e),p(p(p(f(f(n=!a||"object"!==l(a)&&"function"!=typeof a?f(o):a)),"socket",void 0),"socketMsg",function(e){log("Message from server ",e.data),n.props.requestSessions()}),"render",function(){return r.createElement("section",null,r.createElement(i.Title,null,"SessionsReview"),r.createElement("ul",null,n.props.sessions?n.props.sessions.list.map(function(e,t){return r.createElement("li",{key:t},e.id,r.createElement("br",null),e.step1?r.createElement("span",null,"step1"):null,e.step2?r.createElement("span",null,"step2"):null,e.step3?r.createElement("span",null,"step3"):null)}):null))}),n}var n,o,a;return n=t,(o=[{key:"componentDidMount",value:function(){var e=this;this.socket=new WebSocket("ws://localhost:8080"),this.socket.addEventListener("open",function(t){log("Sockets opened in client",t),e.socket.send("Hello Server!"),e.socket.onmessage=e.socketMsg}),this.props.requestSessions()}},{key:"componentWillUnmount",value:function(){this.socket.close()}}])&&s(n.prototype,o),a&&s(n,a),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");u(e.prototype,t&&t.prototype),t&&u(e,t)}(t,e),t}(r.Component),v=(0,o.connect)(function(e){return{sessions:e.sessions}},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({},a))(h);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoinStepTitle=t.Title=t.Content=t.Container=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r};var i=o.default.div.withConfig({displayName:"styled__Container"})(["display:flex;justify-content:center;"]);t.Container=i;var a=o.default.div.withConfig({displayName:"styled__Content"})(["position:relative;display:flex;flex-flow:column;max-width:600px;min-width:320px;width:100%;height:100%;"]);t.Content=a;var c=o.default.h1.withConfig({displayName:"styled__Title"})(["font-size:3rem;font-weight:300;padding:0 1.5rem;"]);t.Title=c;var l=o.default.h2.withConfig({displayName:"styled__JoinStepTitle"})(["color:",";border:0 solid #b2c0d2;border-bottom-width:1px;:first-of-type{border-top-width:1px;}font-size:1rem;font-weight:700;line-height:2.75rem;letter-spacing:0.128em;font-size:1rem;padding:0 1.5rem;margin:0;"],function(e){return e.active?"#002f6b":"rgba(0, 47, 107, 0.5)"});t.JoinStepTitle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GreenCircle=t.Wrapper=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r};var i=o.default.div.withConfig({displayName:"styled__Wrapper"})(["display:flex;flex-flow:column;padding:1.5rem;"]);t.Wrapper=i;var a=o.default.div.withConfig({displayName:"styled__GreenCircle"})(["display:flex;align-items:center;justify-content:center;width:80px;height:80px;border-radius:50px;border:solid 2px #389822;font-size:2rem;margin-bottom:1.5rem;"]);t.GreenCircle=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.End=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=n(11),a=(r=n(16))&&r.__esModule?r:{default:r},c=n(75),l=n(14);t.End=function(){return o.createElement(c.Wrapper,null,o.createElement(l.CallToAction,null,o.createElement(c.GreenCircle,null,"✓"),o.createElement("div",null,"press “Restart demo” to reattempt.")),o.createElement(a.default,{width:"100%",onClick:function(){return i.history.push({pathname:"/biometric-id"})}},"Restart demo"))}},function(e,t){e.exports="data:image/png;base64,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ZnlEYXRlPSIyMDE4LTAzLTE4VDE5OjAzOjM0KzAxOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2YTgwNTdlLWY2MDAtNGVmZi1iYjk3LTliZjE4NjFmYmRkNiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmNiNWUwNjFiLTFiNGMtYjk0MC04MzM0LTExMjc5MmFmZmJlZiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjVmYTE0OWY2LWRkZjMtNGNiYS04MGY3LWE0M2IzZmNiMTQzNiIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJHZW5lcmljIFJHQiBQcm9maWxlIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZmExNDlmNi1kZGYzLTRjYmEtODBmNy1hNDNiM2ZjYjE0MzYiIHN0RXZ0OndoZW49IjIwMTgtMDMtMThUMTk6MDM6MzQrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTZhODA1N2UtZjYwMC00ZWZmLWJiOTctOWJmMTg2MWZiZGQ2IiBzdEV2dDp3aGVuPSIyMDE4LTAzLTE4VDE5OjAzOjM0KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+GCvEFgAAEiRJREFUeJzlnHdcFMcXwOcQlR5KYkVpSpEqIhEB0YhGgwZjFAGRjgIRjIUA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"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.List=t.Image=t.Wrapper=t.Intro=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r};var i=o.default.p.withConfig({displayName:"styled__Intro"})(["margin:0;"]);t.Intro=i;var a=o.default.div.withConfig({displayName:"styled__Wrapper"})(["display:flex;flex-flow:column;padding:1.5rem;"]);t.Wrapper=a;var c=o.default.img.withConfig({displayName:"styled__Image"})(["align-self:center;margin-bottom:1.5rem;"]);t.Image=c;var l=o.default.ol.withConfig({displayName:"styled__List"})(["> li{line-height:2rem;}"]);t.List=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Start=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(11),i=n(78),a=l(n(16)),c=l(n(77));function l(e){return e&&e.__esModule?e:{default:e}}t.Start=function(){return r.createElement(i.Wrapper,null,r.createElement(i.Image,{src:c.default}),r.createElement(i.Intro,null,"We’ll take a short video of you with your NZ passport."),r.createElement(i.List,null,r.createElement("li",null,"For best results you’ll need to be in a quiet well lit area."),r.createElement("li",null,"Having a flat surface to put your passport on will help."),r.createElement("li",null,"We’ll ask you to repeat a short phrase.")),r.createElement(a.default,{width:"100%",onClick:function(){return o.history.push({pathname:"/biometric-id/step1"})}},"Start"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecButton=t.ProgressBar=t.OverlayContent=t.OverlayContainer=t.Title=t.VideoContainer=t.Container=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(4));var o=r.default.div.withConfig({displayName:"styled__Container"})(["visibility:",";position:fixed;top:0;left:0;right:0;bottom:0;background:black;"],function(e){return e.mediaActivated?"visible":"hidden"});t.Container=o;var i=r.default.div.withConfig({displayName:"styled__VideoContainer"})(["position:relative;height:100%;max-height:100%;"]);t.VideoContainer=i;var a=r.default.div.withConfig({displayName:"styled__Title"})(["position:absolute;top:0px;width:100%;height:35px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;color:white;padding:0.7rem;border-radius:5px 5px 0 0;"]);t.Title=a;var c=r.default.div.withConfig({displayName:"styled__OverlayContainer"})(["position:absolute;top:0px;left:0px;height:100%;width:100%;display:flex;justify-content:center;align-items:center;"]);t.OverlayContainer=c;var l=r.default.div.withConfig({displayName:"styled__OverlayContent"})(["height:","px;width:","px;",";padding:1rem;transition:transform 0.5s;"],function(e){var t=e.overlaysize,n=t.height,r=t.width;return"true"===e.rotate&&r>n?r:n},function(e){var t=e.overlaysize,n=t.height,r=t.width;return"true"===e.rotate&&r>n?n:r},function(e){var t=e.overlaysize,n=t.height,r=t.width;return"true"===e.rotate&&r>n?"transform: rotate(-90deg);":""});t.OverlayContent=l;var u=r.default.progress.withConfig({displayName:"styled__ProgressBar"})(["position:absolute;bottom:52px;left:0px;width:100%;height:1px;appearance:none;margin:0 0 0.7rem 0;::-webkit-progress-bar{background-color:white;}::-webkit-progress-value{background-color:red;}::-moz-progress-bar{background-color:white;}"]);t.ProgressBar=u;var s=(0,r.keyframes)(["from{background-color:darkred;}to{background-color:lightred;}"]),d=r.default.div.withConfig({displayName:"styled__RecButton"})(["position:absolute;bottom:8px;left:calc(50% - 25px);z-index:100;width:50px;height:50px;min-height:50px;border-radius:50px;background:rgba(100,100,100,.5);:hover{cursor:pointer;}:after{content:'';background:red;width:20px;height:20px;border-radius:50px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto auto;",""],function(e){return e.recording?"animation: ".concat(s," 0.5s infinite alternate;"):""});t.RecButton=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Overlay=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(4));var o=(0,r.keyframes)(["to{stroke-dashoffset:10;}"]),i=r.default.svg.withConfig({displayName:"styled__Overlay"})(["width:100%;height:100%;#passport,#driverLicense{animation:"," 0.5s linear infinite;}"],o);t.Overlay=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(81);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var s,d,f,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var n,i,s;return n=t,(i=[{key:"render",value:function(){return r.createElement(o.Overlay,{style:{height:"100%",width:"100%"}},r.createElement("symbol",{id:"passport",viewBox:"0 -5 355.56 509.21",strokeDasharray:"5",strokeDashoffset:"0",fill:"none",stroke:"#fff",strokeWidth:"3"},r.createElement("rect",{width:"354.82",height:"502.47",x:".37",y:".37",rx:"12",ry:"12"}),r.createElement("path",{d:"M22.27 251.61l311.39-2.34"}),r.createElement("path",{d:"M16.31 301.85h99.27v138.17H16.31z"})),r.createElement("symbol",{id:"passportBkg",viewBox:"0 -5 355.56 509.21",fill:"none",stroke:"#000",strokeWidth:"3"},r.createElement("rect",{width:"354.82",height:"502.47",x:".37",y:".37",rx:"12",ry:"12"}),r.createElement("path",{d:"M22.27 251.61l311.39-2.34"}),r.createElement("path",{d:"M16.31 301.85h99.27v138.17H16.31z"})),r.createElement("symbol",{id:"driverLicense",viewBox:"0 -5 555 860",strokeDasharray:"5",strokeDashoffset:"0",fill:"none",stroke:"#fff",strokeWidth:"5"},r.createElement("rect",{x:"2",y:"2",width:"550",height:"850",rx:"12",ry:"12"}),r.createElement("rect",{x:"52",y:"52",width:"300",height:"230",rx:"12",ry:"12"})),r.createElement("symbol",{id:"driverLicenseBkg",viewBox:"0 -5 555 860",strokeDasharray:"5",strokeDashoffset:"0",fill:"none",stroke:"#000",strokeWidth:"5"},r.createElement("rect",{x:"2",y:"2",width:"550",height:"850",rx:"12",ry:"12"}),r.createElement("rect",{x:"52",y:"52",width:"300",height:"230",rx:"12",ry:"12"})),"Passport"===this.props.svgoverlay?r.createElement(r.Fragment,null,r.createElement("use",{xlinkHref:"#passportBkg"}),r.createElement("use",{xlinkHref:"#passport"})):r.createElement(r.Fragment,null,r.createElement("use",{xlinkHref:"#driverLicenseBkg"}),r.createElement("use",{xlinkHref:"#driverLicense"})))}}])&&c(n.prototype,i),s&&c(n,s),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");a(e.prototype,t&&t.prototype),t&&a(e,t)}(t,e),t}(r.Component);f={},(d="defaultProps")in(s=p)?Object.defineProperty(s,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):s[d]=f;var h=p;t.default=h},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function e(t,n,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(this,"recordEnabled",void 0),"frames",[]),"interval",void 0),"video",void 0),"canvas",void 0),"canvasCtx",void 0),"imageType",void 0),"quality",void 0),"fps",void 0),"ondataavailable",function(){}),"start",function(){return i.captureFrames()}),"onstop",function(){}),"stop",function(){clearInterval(i.interval),i.ondataavailable({data:i.frames}),i.onstop()}),"onerror",function(){log("FfmpegRecorder error")}),"captureFrames",function(){i.interval=setInterval(function(){i.recordEnabled&&(i.canvasCtx.drawImage(i.video,0,0,i.canvas.width,i.canvas.height),i.frames.push(i.canvas.toDataURL(i.imageType,i.quality)))},1e3/i.fps)}),this.video=n,this.canvas=t,this.canvasCtx=t.getContext("2d"),this.recordEnabled=o.recordEnabled||!1,this.imageType="image/".concat(o.imageType)||"image/jpeg",this.quality=o.quality||.5,this.fps=o.fps||24};var i=function(e,t,n){return window.MediaRecorder&&n.useMediaRecorderApi?new MediaRecorder(e.srcObject):new o(t,e,n)};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e={};return e.rev=2,e.Tracker=function(t){if(t||(t={}),t.faceDetection=t.faceDetection||!0,void 0===t.smoothing&&(t.smoothing=!0),void 0===t.retryDetection&&(t.retryDetection=!0),void 0===t.ui&&(t.ui=!1),void 0===t.debug)t.debug=!1;else if("CANVAS"!=t.debug.tagName)t.debug=!1;else var n=t.debug.getContext("2d");var r,o,i,a,c,l,u,s;void 0===t.detectionInterval&&(t.detectionInterval=20),void 0===t.fadeVideo&&(t.fadeVideo=!1),void 0===t.cameraOffset&&(t.cameraOffset=11.5),void 0===t.calcAngles&&(t.calcAngles=!1),void 0===t.headPosition&&(t.headPosition=!0);var d=0,f=!1,p=!1,h=!0,v=!1,y=[];this.status="",this.stream=void 0;var m=document.createEvent("Event");m.initEvent("headtrackrStatus",!0,!0);var g=function(e){m.status=e,document.dispatchEvent(m),this.status=e}.bind(this);this.init=function(n,o){l=n,a=o,c=o.getContext("2d"),t.ui&&new e.Ui,r=new e.Smoother(.35,t.detectionInterval+15),this.initialized=!0};var b=function(){if(c.drawImage(l,0,0,a.width,a.height),t.faceDetection){void 0===o&&(o=new e.facetrackr.Tracker({debug:t.debug,calcAngles:t.calcAngles})).init(a),o.track();var m=o.getTrackingObject({debug:t.debug});if("WB"==m.detection&&g("whitebalance"),h&&"VJ"==m.detection&&g("detecting"),0!=m.confidence&&("VJ"==m.detection&&(void 0===s&&(s=(new Date).getTime()),(new Date).getTime()-s>5e3&&g("hints"),m.x,m.width,m.y,m.height,t.debug&&(n.strokeStyle="#0000CC",n.strokeRect(m.x,m.y,m.width,m.height))),"CS"==m.detection))if(m.x,m.y,void 0!==s&&(s=void 0),t.debug&&(n.translate(m.x,m.y),n.rotate(m.angle-Math.PI/2),n.strokeStyle="#00CC00",n.strokeRect(-m.width/2>>0,-m.height/2>>0,m.width,m.height),n.rotate(Math.PI/2-m.angle),n.translate(-m.x,-m.y)),!v&&t.fadeVideo&&(O(),v=!0),this.status="tracking",0==m.width||0==m.height)t.retryDetection?(g("redetecting"),(o=new e.facetrackr.Tracker({whitebalancing:!1,debug:t.debug,calcAngles:t.calcAngles})).init(a),p=!1,i=void 0,v&&(l.style.opacity=1,v=!1)):(g("lost"),this.stop());else if(p||(g("found"),p=!0),t.smoothing&&(r.initialized||r.init(m),m=r.smooth(m)),void 0===i&&t.headPosition){var w=!1,_=Math.sqrt(m.width*m.width+m.height*m.height);y.length<6?y.push(_):(y.splice(0,1),y.push(_),Math.max.apply(null,y)-Math.min.apply(null,y)<5&&(w=!0)),w&&(h?(i=void 0===t.fov?new e.headposition.Tracker(m,a.width,a.height,{distance_from_camera_to_screen:t.cameraOffset}):new e.headposition.Tracker(m,a.width,a.height,{fov:t.fov,distance_from_camera_to_screen:t.cameraOffset}),d=i.getFOV(),h=!1):i=new e.headposition.Tracker(m,a.width,a.height,{fov:d,distance_from_camera_to_screen:t.cameraOffset}),i.track(m))}else t.headPosition&&i.track(m)}f&&(u=window.setTimeout(b,t.detectionInterval))}.bind(this),w=function t(){try{c.drawImage(l,0,0,a.width,a.height),e.getWhitebalance(a)>0?(f=!0,b()):window.setTimeout(t,100)}catch(e){window.setTimeout(t,100)}};this.start=function(){return!!this.initialized&&(l.currentTime>0&&!l.paused&&!l.ended?(w(),!0):(f=!0,l.addEventListener("playing",w,!1),!0))},this.stop=function(){return window.clearTimeout(u),f=!1,g("stopped"),o=void 0,p=!1,!0},this.stopStream=function(){void 0!==this.stream&&(void 0!==this.stream.stop?this.stream.stop():void 0!==this.stream.getVideoTracks&&this.stream.getVideoTracks().forEach(function(e){e.stop()}))},this.getFOV=function(){return d};var O=function e(){""==l.style.opacity?(l.style.opacity=.98,window.setTimeout(e,50)):l.style.opacity>.3?(l.style.opacity-=.02,window.setTimeout(e,50)):l.style.opacity=.3}},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:e||window,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o}),e.ccv={},e.ccv.grayscale=function(e){for(var t,n,r=e.getContext("2d"),o=r.getImageData(0,0,e.width,e.height),i=o.data,a=e.width*e.height*4;a>0;)i[a-=4]=i[t=a+1]=i[n=a+2]=.3*i[a]+.59*i[t]+.11*i[n];return r.putImageData(o,0,0),e},e.ccv.array_group=function(e,t){var n,r,o=new Array(e.length);for(n=0;n<e.length;n++)o[n]={parent:-1,element:e[n],rank:0};for(n=0;n<e.length;n++)if(o[n].element){for(var i=n;-1!=o[i].parent;)i=o[i].parent;for(r=0;r<e.length;r++)if(n!=r&&o[r].element&&t(o[n].element,o[r].element)){for(var a=r;-1!=o[a].parent;)a=o[a].parent;if(a!=i){o[i].rank>o[a].rank?o[a].parent=i:(o[i].parent=a,o[i].rank==o[a].rank&&o[a].rank++,i=a);for(var c,l=r;-1!=o[l].parent;)c=l,l=o[l].parent,o[c].parent=i;for(l=n;-1!=o[l].parent;)c=l,l=o[l].parent,o[c].parent=i}}}var u=new Array(e.length),s=0;for(n=0;n<e.length;n++){r=-1;var d=n;if(o[d].element){for(;-1!=o[d].parent;)d=o[d].parent;o[d].rank>=0&&(o[d].rank=~s++),r=~o[d].rank}u[n]=r}return{index:u,cat:s}},e.ccv.detect_objects=function(t,n,r,o){var i,a,c,l,u,s,d=Math.pow(2,1/(r+1)),f=r+1,p=Math.floor(Math.log(Math.min(n.width,n.height))/Math.log(d)),h=new Array(4*(p+2*f));for(h[0]=t,h[0].data=h[0].getContext("2d").getImageData(0,0,h[0].width,h[0].height).data,i=1;i<=r;i++)h[4*i]=document.createElement("canvas"),h[4*i].width=Math.floor(h[0].width/Math.pow(d,i)),h[4*i].height=Math.floor(h[0].height/Math.pow(d,i)),h[4*i].getContext("2d").drawImage(h[0],0,0,h[0].width,h[0].height,0,0,h[4*i].width,h[4*i].height),h[4*i].data=h[4*i].getContext("2d").getImageData(0,0,h[4*i].width,h[4*i].height).data;for(i=f;i<p+2*f;i++)h[4*i]=document.createElement("canvas"),h[4*i].width=Math.floor(h[4*i-4*f].width/2),h[4*i].height=Math.floor(h[4*i-4*f].height/2),h[4*i].getContext("2d").drawImage(h[4*i-4*f],0,0,h[4*i-4*f].width,h[4*i-4*f].height,0,0,h[4*i].width,h[4*i].height),h[4*i].data=h[4*i].getContext("2d").getImageData(0,0,h[4*i].width,h[4*i].height).data;for(i=2*f;i<p+2*f;i++)h[4*i+1]=document.createElement("canvas"),h[4*i+1].width=Math.floor(h[4*i-4*f].width/2),h[4*i+1].height=Math.floor(h[4*i-4*f].height/2),h[4*i+1].getContext("2d").drawImage(h[4*i-4*f],1,0,h[4*i-4*f].width-1,h[4*i-4*f].height,0,0,h[4*i+1].width-2,h[4*i+1].height),h[4*i+1].data=h[4*i+1].getContext("2d").getImageData(0,0,h[4*i+1].width,h[4*i+1].height).data,h[4*i+2]=document.createElement("canvas"),h[4*i+2].width=Math.floor(h[4*i-4*f].width/2),h[4*i+2].height=Math.floor(h[4*i-4*f].height/2),h[4*i+2].getContext("2d").drawImage(h[4*i-4*f],0,1,h[4*i-4*f].width,h[4*i-4*f].height-1,0,0,h[4*i+2].width,h[4*i+2].height-2),h[4*i+2].data=h[4*i+2].getContext("2d").getImageData(0,0,h[4*i+2].width,h[4*i+2].height).data,h[4*i+3]=document.createElement("canvas"),h[4*i+3].width=Math.floor(h[4*i-4*f].width/2),h[4*i+3].height=Math.floor(h[4*i-4*f].height/2),h[4*i+3].getContext("2d").drawImage(h[4*i-4*f],1,1,h[4*i-4*f].width-1,h[4*i-4*f].height-1,0,0,h[4*i+3].width-2,h[4*i+3].height-2),h[4*i+3].data=h[4*i+3].getContext("2d").getImageData(0,0,h[4*i+3].width,h[4*i+3].height).data;for(a=0;a<n.stage_classifier.length;a++)n.stage_classifier[a].orig_feature=n.stage_classifier[a].feature;var v=1,y=1,m=[0,1,0,1],g=[0,0,1,1],b=[];for(i=0;i<p;i++){var w=h[4*i+8*f].width-Math.floor(n.width/4),O=h[4*i+8*f].height-Math.floor(n.height/4),_=[4*h[4*i].width,4*h[4*i+4*f].width,4*h[4*i+8*f].width],E=[16*h[4*i].width-16*w,8*h[4*i+4*f].width-8*w,4*h[4*i+8*f].width-4*w];for(a=0;a<n.stage_classifier.length;a++){var P=n.stage_classifier[a].orig_feature,S=n.stage_classifier[a].feature=new Array(n.stage_classifier[a].count);for(c=0;c<n.stage_classifier[a].count;c++)for(S[c]={size:P[c].size,px:new Array(P[c].size),pz:new Array(P[c].size),nx:new Array(P[c].size),nz:new Array(P[c].size)},s=0;s<P[c].size;s++)S[c].px[s]=4*P[c].px[s]+P[c].py[s]*_[P[c].pz[s]],S[c].pz[s]=P[c].pz[s],S[c].nx[s]=4*P[c].nx[s]+P[c].ny[s]*_[P[c].nz[s]],S[c].nz[s]=P[c].nz[s]}for(s=0;s<4;s++){var j=[h[4*i].data,h[4*i+4*f].data,h[4*i+8*f+s].data],x=[8*m[s]+g[s]*h[4*i].width*8,4*m[s]+g[s]*h[4*i+4*f].width*4,0];for(u=0;u<O;u++){for(l=0;l<w;l++){var M=0,T=!0;for(a=0;a<n.stage_classifier.length;a++){M=0;var C=n.stage_classifier[a].alpha;for(S=n.stage_classifier[a].feature,c=0;c<n.stage_classifier[a].count;c++){var k,I=S[c],A=j[I.pz[0]][x[I.pz[0]]+I.px[0]],D=j[I.nz[0]][x[I.nz[0]]+I.nx[0]];if(A<=D)M+=C[2*c];else{var R,B=!0;for(R=0;R<I.size;R++){if(I.pz[R]>=0&&(k=j[I.pz[R]][x[I.pz[R]]+I.px[R]])<A){if(k<=D){B=!1;break}A=k}if(I.nz[R]>=0&&(Z=j[I.nz[R]][x[I.nz[R]]+I.nx[R]])>D){if(A<=Z){B=!1;break}D=Z}}M+=B?C[2*c+1]:C[2*c]}}if(M<n.stage_classifier[a].threshold){T=!1;break}}T&&b.push({x:(4*l+2*m[s])*v,y:(4*u+2*g[s])*y,width:n.width*v,height:n.height*y,neighbor:1,confidence:M}),x[0]+=16,x[1]+=8,x[2]+=4}x[0]+=E[0],x[1]+=E[1],x[2]+=E[2]}}v*=d,y*=d}for(a=0;a<n.stage_classifier.length;a++)n.stage_classifier[a].feature=n.stage_classifier[a].orig_feature;if(o>0){var N=e.ccv.array_group(b,function(e,t){var n=Math.floor(.25*e.width+.5);return t.x<=e.x+n&&t.x>=e.x-n&&t.y<=e.y+n&&t.y>=e.y-n&&t.width<=Math.floor(1.5*e.width+.5)&&Math.floor(1.5*t.width+.5)>=e.width}),F=N.cat,z=N.index,V=new Array(F+1);for(i=0;i<V.length;i++)V[i]={neighbors:0,x:0,y:0,width:0,height:0,confidence:0};for(i=0;i<b.length;i++){var W=b[i],L=z[i];0==V[L].neighbors&&(V[L].confidence=W.confidence),++V[L].neighbors,V[L].x+=W.x,V[L].y+=W.y,V[L].width+=W.width,V[L].height+=W.height,V[L].confidence=Math.max(V[L].confidence,W.confidence)}var H=[];for(i=0;i<F;i++){var Z;(Z=V[i].neighbors)>=o&&H.push({x:(2*V[i].x+Z)/(2*Z),y:(2*V[i].y+Z)/(2*Z),width:(2*V[i].width+Z)/(2*Z),height:(2*V[i].height+Z)/(2*Z),neighbors:V[i].neighbors,confidence:V[i].confidence})}var G=[];for(i=0;i<H.length;i++){for(W=H[i],T=!0,a=0;a<H.length;a++){var Y=H[a],U=Math.floor(.25*Y.width+.5);if(i!=a&&W.x>=Y.x-U&&W.y>=Y.y-U&&W.x+W.width<=Y.x+Y.width+U&&W.y+W.height<=Y.y+Y.height+U&&(Y.neighbors>Math.max(3,W.neighbors)||W.neighbors<3)){T=!1;break}}T&&G.push(W)}return G}return b},e.getWhitebalance=function(e){for(var t=e.getContext("2d").getImageData(0,0,e.width,e.height),n=t.data,r=t.width*t.height,o=0,i=0,a=0,c=0;c<r;c++)o+=n[4*c],i+=n[4*c+1],a+=n[4*c+2];return(o/r+i/r+a/r)/3},e.Smoother=function(e,t){var n,r,o,i;new Date,this.initialized=!1,this.init=function(e){this.initialized=!0,n=[e.x,e.y,e.z,e.width,e.height],r=n,o=n.length},this.smooth=function(t){if(i=[t.x,t.y,t.z,t.width,t.height],this.initialized)for(var a=0;a<o;a++)n[a]=e*i[a]+(1-e)*n[a],r[a]=e*n[a]+(1-e)*r[a];return!1}},e.camshift={},e.camshift.Histogram=function(e){this.size=4096;var t,n,r,o,i,a,c=[];for(t=0;t<this.size;t++)c.push(0);for(n=0,a=e.length;n<a;n+=4)r=e[n+0]>>4,o=e[n+1]>>4,i=e[n+2]>>4,c[256*r+16*o+i]+=1;this.getBin=function(e){return c[e]}},e.camshift.Moments=function(e,t,n,r,o,i){var a,c,l,u,s;this.m00=0,this.m01=0,this.m10=0,this.m11=0,this.m02=0,this.m20=0;var d=[];for(a=t;a<r;a++)for(d=e[a],u=a-t,c=n;c<o;c++)l=d[c],s=c-n,this.m00+=l,this.m01+=s*l,this.m10+=u*l,i&&(this.m11+=u*s*l,this.m02+=s*s*l,this.m20+=u*u*l);this.invM00=1/this.m00,this.xc=this.m10*this.invM00,this.yc=this.m01*this.invM00,this.mu00=this.m00,this.mu01=0,this.mu10=0,i&&(this.mu20=this.m20-this.m10*this.xc,this.mu02=this.m02-this.m01*this.yc,this.mu11=this.m11-this.m01*this.xc)},e.camshift.Rectangle=function(t,n,r,o){this.x=t,this.y=n,this.width=r,this.height=o,this.clone=function(){var t=new e.camshift.Rectangle;return t.height=this.height,t.width=this.width,t.x=this.x,t.y=this.y,t}},e.camshift.Tracker=function(t){var n,r,o,i,a,c,l;void 0===t&&(t={}),void 0===t.calcAngles&&(t.calcAngles=!0),this.getSearchWindow=function(){return o.clone()},this.getTrackObj=function(){return i.clone()},this.getPdf=function(){return r},this.getBackProjectionImg=function(){var e,t,n,o=r,i=c,u=l,s=a.createImageData(i,u),d=s.data;for(e=0;e<i;e++)for(t=0;t<u;t++)n=Math.floor(255*o[e][t]),pos=4*(t*i+e),d[pos]=n,d[pos+1]=n,d[pos+2]=n,d[pos+3]=255;return s},this.initTracker=function(t,r){a=t.getContext("2d");var c=r.width,l=r.height,u=r.x,s=r.y,d=a.getImageData(u,s,c,l);n=new e.camshift.Histogram(d.data),o=r.clone(),i=new e.camshift.TrackObj},this.track=function(a){var u=a.getContext("2d");l=a.height,c=a.width;var s=u.getImageData(0,0,a.width,a.height);0!=s.width&&0!=s.height&&function(a){var c=a.width,l=a.height,u=function(t){var i,a,c,l,u,s,d,f,p=t.width,h=t.height,v=t.data,y=new e.camshift.Histogram(v),m=function(e,t){for(var n,r=[],o=0;o<4096;o++)n=0!=t.getBin(o)?Math.min(e.getBin(o)/t.getBin(o),1):0,r.push(n);return r}(n,y);r=function(e,t,n,r,o){var i,a,c,l,u,s,d=[],f=[];for(i=0;i<t;i++){for(f=[],a=0;a<n;a++)c=e[s=4*(a*t+i)]>>4,l=e[s+1]>>4,u=e[s+2]>>4,f.push(r[256*c+16*l+u]);d[i]=f}return d}(v,t.width,t.height,m);var g=o.x,b=o.y;for(l=0;l<10;l++){if(u=Math.max(o.x,0),s=Math.max(o.y,0),d=Math.min(u+o.width,p),f=Math.min(s+o.height,h),i=new e.camshift.Moments(r,u,s,d,f,9==l),a=i.xc,c=i.yc,o.x+=a-o.width/2>>0,o.y+=c-o.height/2>>0,o.x==g&&o.y==b){i=new e.camshift.Moments(r,u,s,d,f,!0);break}g=o.x,b=o.y}return o.x=Math.max(0,Math.min(o.x,p)),o.y=Math.max(0,Math.min(o.y,h)),i}(a),s=u.mu20*u.invM00,d=u.mu02*u.invM00;if(t.calcAngles){var f=u.mu11*u.invM00,p=s+d,h=Math.sqrt(4*f*f+(s-d)*(s-d));i.width=Math.sqrt(.5*(p-h))<<2,i.height=Math.sqrt(.5*(p+h))<<2,i.angle=Math.atan2(2*f,s-d+h),i.angle<0&&(i.angle=i.angle+Math.PI)}else i.width=Math.sqrt(s)<<2,i.height=Math.sqrt(d)<<2,i.angle=Math.PI/2;i.x=Math.floor(Math.max(0,Math.min(o.x+o.width/2,c))),i.y=Math.floor(Math.max(0,Math.min(o.y+o.height/2,l))),o.width=Math.floor(1.1*i.width),o.height=Math.floor(1.1*i.height)}(s)}},e.camshift.TrackObj=function(){this.height=0,this.width=0,this.angle=0,this.x=0,this.y=0,this.clone=function(){var t=new e.camshift.TrackObj;return t.height=this.height,t.width=this.width,t.angle=this.angle,t.x=this.x,t.y=this.y,t}},e.facetrackr={},e.facetrackr.Tracker=function(t){if(t||(t={}),void 0===t.sendEvents&&(t.sendEvents=!0),void 0===t.whitebalancing&&(t.whitebalancing=!0),void 0===t.debug?t.debug=!1:"CANVAS"!=t.debug.tagName&&(t.debug=!1),t.whitebalancing)var n="WB";else n="VJ";var r,o,i;void 0==t.calcAngles&&(t.calcAngles=!1);var a=[];this.init=function(n){r=n,i=new e.camshift.Tracker({calcAngles:t.calcAngles})},this.track=function(){var c;if("WB"==n?c=function(){var t=new e.facetrackr.TrackObj;return t.wb=e.getWhitebalance(r),t.detection="WB",t}():"VJ"==n?c=function(){var t=(new Date).getTime(),n=document.createElement("canvas");n.width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0,n.width,n.height);var o,i=e.ccv.detect_objects(e.ccv.grayscale(n),cascade,5,1),a=(new Date).getTime()-t;i.length>0&&(o=i[0]);for(var c=1;c<i.length;c++)i[c].confidence>o.confidence&&(o=i[c]);var l=new e.facetrackr.TrackObj;return void 0!==o&&(l.width=o.width,l.height=o.height,l.x=o.x,l.y=o.y,l.confidence=o.confidence),l.time=a,l.detection="VJ",l}():"CS"==n&&(c=function(){var n=(new Date).getTime();i.track(r);var o=i.getTrackObj();t.debug&&t.debug.getContext("2d").putImageData(i.getBackProjectionImg(),0,0);var a=(new Date).getTime()-n,c=new e.facetrackr.TrackObj;return c.width=o.width,c.height=o.height,c.x=o.x,c.y=o.y,c.angle=o.angle,c.confidence=1,c.time=a,c.detection="CS",c}()),"WB"==c.detection&&(a.length>=15&&a.pop(),a.unshift(c.wb),15==a.length&&Math.max.apply(null,a)-Math.min.apply(null,a)<2&&(n="VJ")),"VJ"==c.detection&&c.confidence>-10){n="CS";var l=new e.camshift.Rectangle(Math.floor(c.x),Math.floor(c.y),Math.floor(c.width),Math.floor(c.height));i.initTracker(r,l)}if(o=c,"CS"==c.detection&&t.sendEvents){var u=document.createEvent("Event");u.initEvent("facetrackingEvent",!0,!0),u.height=c.height,u.width=c.width,u.angle=c.angle,u.x=c.x,u.y=c.y,u.confidence=c.confidence,u.detection=c.detection,u.time=c.time,document.dispatchEvent(u)}},this.getTrackingObject=function(){return o.clone()}},e.facetrackr.TrackObj=function(){this.height=0,this.width=0,this.angle=0,this.x=0,this.y=0,this.confidence=-1e4,this.detection="",this.time=0,this.clone=function(){var t=new e.facetrackr.TrackObj;return t.height=this.height,t.width=this.width,t.angle=this.angle,t.x=this.x,t.y=this.y,t.confidence=this.confidence,t.detection=this.detection,t.time=this.time,t}},e.Ui=function(){var e,t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("p");t.setAttribute("id","headtrackerMessageDiv"),t.style.left="20%",t.style.right="20%",t.style.top="30%",t.style.fontSize="90px",t.style.color="#777",t.style.position="absolute",t.style.fontFamily="Helvetica, Arial, sans-serif",t.style.zIndex="100002",n.style.marginLeft="auto",n.style.marginRight="auto",n.style.width="100%",n.style.textAlign="center",n.style.color="#fff",n.style.backgroundColor="#444",n.style.opacity="0.5",r.setAttribute("id","headtrackerMessage"),n.appendChild(r),t.appendChild(n),document.body.appendChild(t);var o={"no getUserMedia":"getUserMedia is not supported in your browser :(","no camera":"no camera found :("},i={whitebalance:"Waiting for camera whitebalancing",detecting:"Please wait while camera is detecting your face...",hints:"We seem to have some problems detecting your face. Please make sure that your face is well and evenly lighted, and that your camera is working.",redetecting:"Lost track of face, trying to detect again..",lost:"Lost track of face :(",found:"Face found! Move your head!"},a=!1;document.addEventListener("headtrackrStatus",function(t){if(t.status in i)window.clearTimeout(e),a||((n=document.getElementById("headtrackerMessage")).innerHTML=i[t.status],e=window.setTimeout(function(){n.innerHTML=""},3e3));else if(t.status in o){var n;a=!0,window.clearTimeout(e),(n=document.getElementById("headtrackerMessage")).innerHTML=o[t.status],window.setTimeout(function(){n.innerHTML="added fallback video for demo"},2e3),window.setTimeout(function(){n.innerHTML="",a=!1},4e3)}},!0)},e.headposition={},e.headposition.Tracker=function(t,n,r,o){if(o||(o={}),void 0===o.edgecorrection)var i=!0;else i=o.edgecorrection;this.camheight_cam=r,this.camwidth_cam=n;var a=Math.atan(16/19),c=Math.sqrt(617),l=Math.sin(a),u=Math.cos(a),s=Math.tan(a),d=t.width,f=t.height,p=Math.sqrt(d*d+f*f);if(void 0===o.fov){var h=l*p,v=this.camwidth_cam/h*16;if(void 0===o.distance_to_screen)var y=60;else y=o.distance_to_screen;var m=2*Math.atan(v/2/y)}else m=o.fov*Math.PI/180;var g,b,w,O=2*Math.tan(m/2);this.track=function(t){var n=t.width,r=t.height,a=t.x,d=t.y;if(i){var f=a-n/2,h=this.camwidth_cam-(a+n/2),v=d-r/2,y=this.camheight_cam-(d+r/2),m=f<11||h<11;if(v<11||y<11)m?(a=f<11?n-p*l/2:a-n/2+p*l/2,d=v<11?r-p*u/2:d-r/2+p*u/2):v<11?(d=r-((_=v/11)*(r/2)+(E=(11-v)/11)*(n/s/2)),p=E*(n/l)+_*Math.sqrt(n*n+r*r)):(d=d-r/2+((_=y/11)*(r/2)+(E=(11-y)/11)*(n/s/2)),p=E*(n/l)+_*Math.sqrt(n*n+r*r));else if(m){var _,E;f<11?(p=(E=(11-f)/11)*(r/u)+(_=f/11)*Math.sqrt(n*n+r*r),a=n-(_*(n/2)+E*(r*s/2))):(p=(E=(11-h)/11)*(r/u)+(_=h/11)*Math.sqrt(n*n+r*r),a=a-n/2+(_*(n/2)+E*(r*s/2)))}else p=Math.sqrt(n*n+r*r)}else p=Math.sqrt(n*n+r*r);w=c*this.camwidth_cam/(O*p),g=-(a/this.camwidth_cam-.5)*w*O,b=-(d/this.camheight_cam-.5)*w*O*(this.camheight_cam/this.camwidth_cam),void 0===o.distance_from_camera_to_screen?b+=11.5:b+=o.distance_from_camera_to_screen;var P=document.createEvent("Event");return P.initEvent("headtrackingEvent",!0,!0),P.x=g,P.y=b,P.z=w,document.dispatchEvent(P),new e.headposition.TrackObj(g,b,w)},this.getTrackerObj=function(){return new e.headposition.TrackObj(g,b,w)},this.getFOV=function(){return 180*m/Math.PI}},e.headposition.TrackObj=function(t,n,r){this.x=t,this.y=n,this.z=r,this.clone=function(){var t=new e.headposition.TrackObj;return t.x=this.x,t.y=this.y,t.z=this.z,t}},e.controllers={},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaCapture=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=s(n(50)),i=s(n(84)),a=s(n(83)),c=s(n(31)),l=s(n(82)),u=n(80);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=5e3,g=function(e){function t(e){var n,s,f;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s=this,f=h(t).call(this,e),y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(v(v(n=!f||"object"!==d(f)&&"function"!=typeof f?v(s):f)),"state",{mediaActivated:!1,recording:!1,prgsBarValue:0,overlaySize:{width:300,height:300}}),"video",void 0),"pgsBarInterval",void 0),"captureInterval",void 0),"canvasDraw",void 0),"canvasCapture",void 0),"htracker",void 0),"overlayContext",void 0),"toggleFullScreen",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}),"startFaceDetection",function(){n.props.videoOptions.faceDetection&&(n.htracker.init(n.video,n.canvasCapture),n.htracker.start(),document.addEventListener("facetrackingEvent",n.faceTrackPaint),n.canvasDraw.style.display="inherit")}),"stopFaceDetection",function(){n.props.videoOptions.faceDetection&&n.htracker&&(n.canvasDraw.style.display="none",document.removeEventListener("facetrackingEvent",n.faceTrackPaint),n.htracker.stop())}),"faceTrackPaint",function(e){var t=n.video.videoWidth,r=n.video.videoHeight;n.overlayContext.clearRect(0,0,t,r),"CS"==e.detection&&(n.overlayContext.translate(e.x,e.y),n.overlayContext.rotate(e.angle-Math.PI/2),n.overlayContext.strokeStyle="#00FF00",n.overlayContext.strokeRect(-e.width/2>>0,-e.height/2>>0,e.width,e.height),n.overlayContext.rotate(Math.PI/2-e.angle),n.overlayContext.translate(-e.x,-e.y))}),"setCanvasSizes",function(){var e=n.video||{};e&&(e.onloadedmetadata=function(){var t=e.videoHeight,r=void 0===t?0:t,i=e.videoWidth,a=void 0===i?0:i;n.canvasCapture.height=r,n.canvasCapture.width=a,n.canvasDraw.height=r,n.canvasDraw.width=a,n.calcOverlaySize(),window.onresize=(0,o.default)(n.calcOverlaySize,100)})}),"calcOverlaySize",function(){var e=n.video||{},t=e.videoWidth,r=e.videoHeight,o=e.clientWidth,i=e.clientHeight,a=o,c=i;r/t>i/o?a=t*i/r:c=r*o/t,c=c>i-120?i-120:c-20,n.setState({overlaySize:{width:a,height:c}})}),"recordMedia",function(){var e=[];n.stopFaceDetection();var t=(0,a.default)(n.video,n.canvasCapture,n.props.videoOptions);t.ondataavailable=function(t){return e=t.data},t.start(),t.onstop=function(){return n.props.endCbk(e)},t.onerror=function(e){return log(e.name)},n.triggerProgressBar(function(){return t.stop()}),n.setState({recording:!0})}),"triggerProgressBar",function(e){var t=n.props.recordingTime||m;n.pgsBarInterval=setInterval(function(){var t=n.state.prgsBarValue;n.state.prgsBarValue>100?(clearInterval(n.pgsBarInterval),e()):n.setState({prgsBarValue:t+1})},t/100)}),"render",function(){var e=n.props,t=e.title,o=e.svgoverlay,i=e.videoOptions.overlayAutoRotation,a=n.state.overlaySize;return r.createElement(u.Container,{mediaActivated:n.state.mediaActivated},r.createElement(u.VideoContainer,null,r.createElement(u.Title,null,t),r.createElement("video",{autoPlay:!0,style:{width:"100%",height:"100%",maxHeight:"100%"},ref:function(e){n.video=e}}),o?r.createElement(u.OverlayContainer,null,r.createElement(u.OverlayContent,{rotate:i.toString(),overlaysize:a},r.createElement(l.default,{svgoverlay:o}))):null,r.createElement(u.RecButton,{onClick:n.recordMedia,recording:n.state.recording},r.createElement(c.default,{style:"circular",value:n.state.prgsBarValue,border:20,color:"red",background:"black",bgOpacity:.2})),r.createElement("canvas",{ref:function(e){n.canvasDraw=e},style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",display:"none"}})),r.createElement("canvas",{ref:function(e){n.canvasCapture=e},style:{visibility:"hidden"}}))}),e.videoOptions.faceDetection&&(n.htracker=new i.default.Tracker({faceDetection:e.videoOptions.faceDetection,calcAngles:e.videoOptions.faceAngleDetection,headPosition:!0})),n}var n,s,g;return n=t,(s=[{key:"componentWillUnmount",value:function(){this.video&&this.video.srcObject&&this.video.srcObject.getTracks().forEach(function(e){return e.stop()});this.stopFaceDetection(),clearInterval(this.pgsBarInterval),this.toggleFullScreen()}},{key:"componentDidMount",value:function(){var e=this;this.toggleFullScreen(),log(this.props.videoOptions.constrains),this.overlayContext=this.canvasDraw.getContext("2d"),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia(this.props.videoOptions.constrains).then(function(t){e.video.srcObject=t}).then(this.setCanvasSizes).then(this.props.activatedCbk).then(function(){return e.setState({mediaActivated:!0})}).catch(function(e){log("no camera",e)}),this.startFaceDetection()}}])&&p(n.prototype,s),g&&p(n,g),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");f(e.prototype,t&&t.prototype),t&&f(e,t)}(t,e),t}(r.Component);t.MediaCapture=g,y(g,"defaultProps",{videoOptions:{faceDetection:!0,recordingTime:5e3,mediaRecorder:!0,constrains:{audio:!1,video:!0},imageType:"image/jpeg",fps:20,quality:.5,overlayAutoRotation:!1}})},function(e,t,n){e.exports=n.p+"static/media/step3.654ec7a9.gif"},function(e,t,n){e.exports=n.p+"static/media/step2.ea762e4d.gif"},function(e,t,n){e.exports=n.p+"static/media/step1.d7e2ed8b.gif"},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBarStyled=void 0;var o=((r=n(4))&&r.__esModule?r:{default:r}).default.svg.withConfig({displayName:"styled__ProgressBarStyled"})(["path{will-change:auto;stroke-width:","px;stroke-miterlimit:round;",";}"],function(e){return e.border},function(e){var t=e.speed;return"transition: stroke-dasharray ".concat(t.toString(),"s linear;")});t.ProgressBarStyled=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StyledButton=void 0;var o=((r=n(4))&&r.__esModule?r:{default:r}).default.button.withConfig({displayName:"styled__StyledButton"})(["border-radius:3px;width:",";height:",";font-size:1rem;color:white;background:",";border-bottom:solid 3px ",";:hover{cursor:pointer;}:active{outline-style:none;border:none;}"],function(e){return e.width||"auto"},function(e){return e.height||"42px"},function(e){return e.color||"#007DC2"},function(e){return e.color||"#007DC2"});t.StyledButton=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=n(11),a=d(n(16)),c=d(n(15)),l=d(n(31)),u=n(14),s=n(85);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="START",g="ACTIVATING",b="ACTIVE",w="CAPTURING",O="COMPLETED",_=(y(r={},m,"Start"),y(r,g,"Activating camera"),y(r,b,"Camera active"),y(r,w,"Capturing"),y(r,O,"Next"),r),E=function(e){function t(e){var n,r,d;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,d=h(t).call(this,e),y(y(y(y(y(y(y(y(y(y(v(v(n=!d||"object"!==f(d)&&"function"!=typeof d?v(r):d)),"state",{status:m,progressBarValue:n.props.progressBarInitialValue}),"dnlButton",void 0),"setStatus",function(e){return n.setState({status:e})}),"setStatusActivatingMedia",function(){return n.setStatus(g)}),"setStatusActivatedMedia",function(){return n.setStatus(b)}),"setStatusCaturing",function(){return n.setStatus(w)}),"setStatusComplete",function(e){if(n.setStatus(O),setTimeout(function(){return n.setState({progressBarValue:n.props.progressBarStepValue})},100),e instanceof Blob){var t=new FileReader;t.addEventListener("loadend",function(){n.sendVideoData(t.result),n.dnlButton.href=e,n.dnlButton.download="RecordedVideo.webm"}),t.readAsDataURL(e)}else n.sendVideoData(e)}),"sendVideoData",function(e){var t=n.props,r=t.saveVideo,o=t.sessionId,i=t.stepNumber,a=t.videoOptions;n.props.videoOptions.recordEnabled?r({sessionId:o,stepNumber:i,videoData:e,videoOptions:a}):log("Recording disabled!")}),"handleClick",function(){n.state.status===m?n.setStatusActivatingMedia():n.state.status===O&&i.history.push({pathname:n.props.nextRoute})}),"render",function(){var e=n.state,t=e.status,r=e.progressBarValue,i=n.props,d=i.videoOptions,f=i.mediaCaptureTxt,p=i.CallToAction,h=i.stepTitleTxt,v=i.stepBodyTxt,y=i.stepNumber,E=i.progressBarInitialValue,S=i.completedTxt,j=i.redoTxt,x=i.svgOverlay,M=i.recordingTime;return o.createElement(u.StepContainer,null,o.createElement(p,{status:t},t===O?[o.createElement(u.GreenCircle,{key:"1"},"✓"),o.createElement("div",{key:"2"},S),o.createElement("a",{key:"3",ref:function(e){n.dnlButton=e}},o.createElement(c.default,{icon:"download",size:"15",color:"#007DC2"}))]:null),o.createElement(l.default,{value:r,border:2,color:"#007DC2",background:"#007cc3",bgOpacity:.2,timeTransform:1.5}),o.createElement(u.StepCounter,null,"Step ",y," of 3 ",t===O?"Completed":null),o.createElement(P,{status:t,stepTitleTxt:h,stepBodyTxt:v}),o.createElement(a.default,{width:"100%",onClick:n.handleClick},_[t]),[g,b,w].includes(t)?o.createElement(s.MediaCapture,{videoOptions:d,activatedCbk:n.setStatusActivatedMedia,endCbk:n.setStatusComplete,title:f,svgoverlay:x,recordingTime:M}):null,t===O?o.createElement(u.RedoLink,{onClick:function(){return n.setState({status:m,progressBarValue:E})}},j):null)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");p(e.prototype,t&&t.prototype),t&&p(e,t)}(t,o.Component),t}(),P=function(e){var t=e.status,n=e.stepTitleTxt,r=e.stepBodyTxt;return t!==O?o.createElement("span",null,o.createElement(u.StepTitle,null,n),o.createElement(u.StepBodyText,null,r)):null},S=E;t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Step3=t.Step2=t.Step1=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=n(6),a=n(17),c=(r=n(91))&&r.__esModule?r:{default:r},l=n(14);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.biometricId,n=t.sessionId,r=t.settings,o=r.autoStartOnDetection,i=r.captureVideo,a=r.videoQuality,c=r.framesPerSecond,l=r.recordingTime,u=r.faceDetection,s=r.faceAngleDetection,d=r.imageType,f=r.idType,p=r.resolution;return{sessionId:n,recordingTime:l,idType:f,videoOptions:{autoStartOnDetection:o,recordEnabled:i,faceDetection:u,faceAngleDetection:s,useMediaRecorderApi:r.useMediaRecorderApi,fps:+c,quality:+a,imageType:d,overlayAutoRotation:r.overlayAutoRotation},resolution:p.split("x")}},f=(0,i.connect)(d,{saveVideo:a.saveVideo})(function(e){return o.createElement(c.default,{videoOptions:u({},e.videoOptions,{constrains:{audio:!1,video:{facingMode:"environment",width:e.resolution[0],height:e.resolution[1]}}}),mediaCaptureTxt:"Align passport photo page to boundaries for 5 seconds.",CallToAction:l.CallToAction1,stepTitleTxt:"New Zealand passport capture",stepBodyTxt:"Align passport photo page to boundaries for 5 seconds.",stepNumber:1,progressBarInitialValue:0,progressBarStepValue:34,completedTxt:"Passport capture complete",nextRoute:"/biometric-id/step2",redoTxt:"Redo passport capture",svgOverlay:e.idType,recordingTime:1e3*+e.recordingTime,sessionId:e.sessionId,saveVideo:e.saveVideo})});t.Step1=f;var p=(0,i.connect)(d,{saveVideo:a.saveVideo})(function(e){return o.createElement(c.default,{videoOptions:u({},e.videoOptions,{constrains:{audio:!1,video:{facingMode:"user",width:e.resolution[0],height:e.resolution[1]}}}),mediaCaptureTxt:"Hold passport photo page next to your face for 5 seconds.",CallToAction:l.CallToAction2,stepTitleTxt:"Face & Passport",stepBodyTxt:"Place Passport photo page open next to your head and tilt the passport back and forward slightly.",stepNumber:2,progressBarInitialValue:34,progressBarStepValue:66,completedTxt:"Face & passport capture complete",nextRoute:"/biometric-id/step3",redoTxt:"Redo face and passport capture",recordingTime:1e3*+e.recordingTime,sessionId:e.sessionId,saveVideo:e.saveVideo})});t.Step2=p;var h=(0,i.connect)(d,{saveVideo:a.saveVideo})(function(e){return o.createElement(c.default,{videoOptions:u({},e.videoOptions,{constrains:{audio:!1,video:{facingMode:"user",width:e.resolution[0],height:e.resolution[1]}}}),mediaCaptureTxt:'"I want to open a BNZ account."',CallToAction:l.CallToAction3,stepTitleTxt:"Repeat a simple phrase",stepBodyTxt:"Clearly repeat the words shown to you on the top of the next screen.",stepNumber:3,progressBarInitialValue:66,progressBarStepValue:100,completedTxt:"Repeat a simple phrase completed",nextRoute:"/biometric-id/end",redoTxt:"Redo Repeat a simple phrase",recordingTime:1e3*+e.recordingTime,sessionId:e.sessionId,saveVideo:e.saveVideo})});t.Step3=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(92),o=n(79),i=n(76),a=[{exact:!0,path:"/biometric-id",component:o.Start},{exact:!0,path:"/biometric-id/step1",component:r.Step1},{exact:!0,path:"/biometric-id/step2",component:r.Step2},{exact:!0,path:"/biometric-id/step3",component:r.Step3},{exact:!0,path:"/biometric-id/end",component:i.End}];t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=n(6),a=n(13),c=n(17),l=(r=n(93))&&r.__esModule?r:{default:r},u=n(74);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=h(t).call(this,e),y(y(y(y(v(v(n=!i||"object"!==s(i)&&"function"!=typeof i?v(r):i)),"state",{nextStep:1}),"routes",["start","step1","step2","step3","end"]),"nextStep",function(){n.setState({nextStep:n.state.nextStep+1})}),"render",function(){return o.createElement(u.Container,null,o.createElement(u.Content,null,o.createElement(u.Title,null,"Open an account"),o.createElement(u.JoinStepTitle,{active:!0},"FACE & ID VERIFICATION"),o.createElement(a.Switch,null,l.default.map(function(e,t){return o.createElement(a.Route,d({key:t},e,{bioAuto:!0}))})),o.createElement("span",null,o.createElement(u.JoinStepTitle,{active:!1},"PASSWORD"),o.createElement(u.JoinStepTitle,{active:!1},"DECLARATION"))))}),n}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){this.props.initBiometricIdSession()}}])&&p(n.prototype,r),i&&p(n,i),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");f(e.prototype,t&&t.prototype),t&&f(e,t)}(t,e),t}(o.Component),g=(0,i.connect)(null,{initBiometricIdSession:c.initBiometricIdSession})(m);t.default=g},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Intro=t.Title=t.Header=t.Layout=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r};var i=o.default.section.withConfig({displayName:"styled__Layout"})(["display:flex;flex-flow:column;align-items:center;justify-content:center;height:calc(100vh - 120px);"]);t.Layout=i;var a=o.default.div.withConfig({displayName:"styled__Header"})(["background-color:#fff;height:150px;padding:20px;color:black;"]);t.Header=a;var c=o.default.h1.withConfig({displayName:"styled__Title"})(["font-size:1.5em;"]);t.Title=c;var l=o.default.div.withConfig({displayName:"styled__Intro"})(["font-family:'Open Sans';font-weight:100;font-style:italic;font-size:1.2rem;"]);t.Intro=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(1)),o=n(6),i=n(98),a=c(n(32));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,p(f(f(n=!(a=d(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?f(o):a)),"render",function(){return r.createElement(i.Layout,null,r.createElement(i.Header,null,r.createElement(i.Title,null,"Biometric Identification")),r.createElement(i.Intro,null,"Featuring:",r.createElement("ul",null,r.createElement("li",null,"Passport and driver license"),r.createElement("li",null,"Face detection and track"),r.createElement("li",null,"Speech recognition"),r.createElement("li",null,"Overlay auto rotation"))))}),n}var n,o,a;return n=t,(o=[{key:"componentDidMount",value:function(){this.props.loadDummy()}}])&&s(n.prototype,o),a&&s(n,a),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");u(e.prototype,t&&t.prototype),t&&u(e,t)}(t,e),t}(r.Component),v=(0,o.connect)(null,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({},a))(h);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return n=t=function(t){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return l(r,(t=r=l(this,(e=u(n)).call.apply(e,[this].concat(i))),d(s(s(r)),"state",{Component:n.Component}),t))}return function(e,t,n){t&&c(e.prototype,t);n&&c(e,n)}(n,[{key:"componentWillMount",value:function(){var t=this;this.state.Component||e().then(function(e){n.Component=e,t.setState({Component:e})})}},{key:"render",value:function(){var e=this.state.Component;return e?o.default.createElement(e,this.props):null}}]),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");a(e.prototype,t&&t.prototype),t&&a(e,t)}(n,t),n}(o.default.Component),d(t,"Component",null),n};var r,o=(r=n(1))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?s(e):t}function u(e){return(u=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(100))&&r.__esModule?r:{default:r};var i=[{exact:!0,path:"/",component:(0,o.default)(function(){return Promise.resolve().then(function(){return n(99)}).then(function(e){return e.default})})},{exact:!1,path:"/biometric-id",component:(0,o.default)(function(){return Promise.resolve().then(function(){return n(94)}).then(function(e){return e.default})})},{exact:!0,path:"/sessions-review",component:(0,o.default)(function(){return Promise.resolve().then(function(){return n(73)}).then(function(e){return e.default})})},{exact:!0,path:"/settings",component:(0,o.default)(function(){return Promise.resolve().then(function(){return n(70)}).then(function(e){return e.default})})}];t.default=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n(1)),o=n(6),i=n(13),a=n(11),c=v(n(101)),l=y(n(32)),u=n(9),s=v(n(66)),d=v(n(65)),f=v(n(59)),p=v(n(56)),h=n(52);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,u.setApiErrorHandlerCbk)(function(e){log(e)});var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,_(t).apply(this,arguments))}var n,o,l;return n=t,(o=[{key:"render",value:function(){var e=this.props.mobilePanel;return r.createElement(i.Router,{history:a.history},r.createElement(s.default,null,r.createElement(h.Wrapper,null,r.createElement(f.default,this.props),r.createElement(h.Container,null,r.createElement(i.Switch,null,c.default.map(function(e,t){return r.createElement(i.Route,g({key:t},e))}))),r.createElement(d.default,null)),r.createElement(p.default,this.props),r.createElement(h.PanelMask,{active:e})))}}])&&w(n.prototype,o),l&&w(n,l),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");b(e.prototype,t&&t.prototype),t&&b(e,t)}(t,e),t}(r.Component);E(P,"defaultProps",{mobilePanel:!1});var S=(0,o.connect)(function(e){var t=e.app.ui;return{mobilePanel:t.mobilePanel,activeURL:t.activeURL}},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}({},l))(P);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sessions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},e);switch(t.type){case r.REQUEST_SESSIONS:n.list=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(i=t.json.sessions)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i;return n};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(34));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.biometricId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},e);switch(t.type){case r.FACE_DETECTION:n.faceDetection.coordinates=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(i=t.json)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}();break;case r.INIT_BIOMETRIC_ID_SESSION:n.sessionId=t.id;break;case r.SAVE_VIDEO:break;case r.SWITCH_SETTING:n.settings[t.setting]=!e.settings[t.setting];break;case r.SET_SETTING:n.settings[t.setting]=t.value}var i;return n};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(35));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.app=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},e);switch(t.type){case r.MOBILE_PANEL_SWITCH:n.ui.mobilePanel=!n.ui.mobilePanel}return n};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(36));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(27),o=n(106),i=n(105),a=n(104),c=(0,r.combineReducers)({app:o.app,biometricId:i.biometricId,sessions:a.sessions});t.default=c},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(27),o=a(n(108)),i=a(n(107));function a(e){return e&&e.__esModule?e:{default:e}}var c,l={app:{ui:{mobilePanel:!1}},biometricId:{sessionId:"",settings:{autoStartOnDetection:!1,captureVideo:!1,speechRecognition:!1,useMediaRecorderApi:!1,faceAngleDetection:!1,faceDetection:!1,overlayAutoRotation:!1,framesPerSecond:"24",recordingTime:"5",imageType:"jpeg",idType:"Passport",resolution:"640x480",videoQuality:"50",videoCodec:"h264"}},sessions:{list:[]}},u={configureStore:function(){var e=(0,r.applyMiddleware)(o.default);return c=(0,r.createStore)(i.default,l,e)},getState:function(){return c.getState()},getInitialState:function(){return l},dispatch:function(e){c.dispatch(e)}};t.default=u},,,,,,,,,,,,function(e,t,n){"use strict";var r=s(n(1)),o=s(n(119)),i=n(6),a=n(37),c=s(n(109)),l=s(n(103)),u=s(n(51));function s(e){return e&&e.__esModule?e:{default:e}}(0,a.setLog)();var d=c.default.configureStore();o.default.render(r.default.createElement(i.Provider,{store:d},r.default.createElement(l.default,null)),document.getElementById("root")),(0,u.default)()},,,,,function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(125).enable(),window.Promise=n(123)),n(122),Object.assign=n(22)},function(e,t,n){n(126),e.exports=n(121)}]);
//# sourceMappingURL=main.a3846cc2.js.map